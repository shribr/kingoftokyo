/* components.power-cards.css */
.cmp-power-cards-panel { --pc-card-bg:linear-gradient(135deg,#2d3436 0%,#1b1f20 78%); --pc-card-border:2px solid #222; --pc-card-shadow:2px 2px 0 #000,0 0 0 1px #222 inset; --pc-card-radius:6px; --pc-card-accent:var(--accent-monsters,#ffcf33); --pc-card-text:#ececec; --pc-cost-bg:#111; --pc-rare:#5cc9ff; --pc-epic:#ff66f6; }


.cmp-power-cards-panel .pc-placeholder { padding:8px 6px 14px; }
/* Let panel-chrome.css handle all header layout including collapse behavior */
/* Typography styles only - don't interfere with transform/layout properties */
.cmp-power-cards-panel .mp-title { font-family:'Bangers',cursive; font-size:24px; letter-spacing:1px; color:var(--pc-card-accent); text-shadow:-2px -2px 0 #000,2px -2px 0 #000,-2px 2px 0 #000,2px 2px 0 #000; }
.cmp-power-cards-panel .pc-empty-frame { border:var(--pc-card-border); background:var(--pc-card-bg); padding:18px 20px 22px; border-radius:var(--pc-card-radius); color:var(--pc-card-text); text-align:center; box-shadow:var(--pc-card-shadow); font-family:'Bangers',cursive; letter-spacing:.5px; }
.cmp-power-cards-panel .pc-empty-frame h3 { font-size:26px; margin:0 0 10px; color:var(--pc-card-accent); text-shadow:-2px -2px 0 #000,2px -2px 0 #000,-2px 2px 0 #000,2px 2px 0 #000; }
.cmp-power-cards-panel .pc-empty-frame p { margin:6px 0; font-size:14px; line-height:1.35; font-family:'Comic Neue',cursive; letter-spacing:0; }
.cmp-power-cards-panel .pc-empty-frame .hint { font-size:12px; opacity:.65; }

.cmp-power-cards-panel .pc-shop { display:flex; flex-direction:column; gap:14px; }
.cmp-power-cards-panel .pc-shop-cards { display:grid; grid-template-columns:repeat(auto-fill,minmax(150px,1fr)); gap:14px; align-items:stretch; }
.cmp-power-cards-panel .pc-card { position:relative; display:flex; flex-direction:column; background:var(--pc-card-bg); border:var(--pc-card-border); border-radius:var(--pc-card-radius); padding:12px 14px 14px; box-shadow:var(--pc-card-shadow); font-family:'Comic Neue',cursive; letter-spacing:.25px; gap:8px; color:var(--pc-card-text); isolation:isolate; }
.cmp-power-cards-panel .pc-card:before { content:""; position:absolute; inset:4px; border-radius:calc(var(--pc-card-radius) - 2px); background:radial-gradient(circle at 30% 22%,rgba(255,255,255,.12),rgba(255,255,255,0) 65%); pointer-events:none; mix-blend-mode:overlay; }
.cmp-power-cards-panel .pc-card:after { content:""; position:absolute; top:0; left:0; right:0; height:46px; background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,0)); border-radius:var(--pc-card-radius) var(--pc-card-radius) 0 0; pointer-events:none; }
/* Cost positioned inline with name in header */
.cmp-power-cards-panel .pc-card__cost { background:var(--pc-cost-bg); color:var(--pc-card-accent); padding:4px 10px 6px; border-radius:18px; font-size:15px; line-height:1; box-shadow:2px 2px 0 #000; font-family:'Bangers',cursive; letter-spacing:.5px; min-width:44px; text-align:center; margin-right:8px; flex-shrink:0; }
.cmp-power-cards-panel .pc-card-cost { background:var(--pc-cost-bg); color:var(--pc-card-accent); padding:4px 10px 6px; border-radius:18px; font-size:15px; line-height:1; box-shadow:2px 2px 0 #000; font-family:'Bangers',cursive; letter-spacing:.5px; min-width:44px; text-align:center; margin-right:8px; flex-shrink:0; }
/* Dark edition styling */
.cmp-power-cards-panel .pc-card[data-dark-edition="true"] { 
  border-color:#8b008b; 
  --pc-card-accent:#ff6b9d;
}
.cmp-power-cards-panel .pc-card[data-dark-edition="true"]:before { 
  background:radial-gradient(circle at 30% 22%,rgba(139,0,139,.18),rgba(139,0,139,0) 65%); 
}
.cmp-power-cards-panel .pc-card[data-dark-edition="true"] .pc-card__header {
  background:linear-gradient(135deg,#4a1a4a,#2d0f2d);
  border-color:#8b008b;
}
.cmp-power-cards-panel .pc-card--stub { opacity:.88; }
.cmp-power-cards-panel .pc-card__header { display:flex; align-items:center; justify-content:flex-start; font-family:'Bangers',cursive; font-size:18px; letter-spacing:.75px; color:var(--pc-card-accent); margin:-4px -4px 2px; padding:4px 6px 6px; background:linear-gradient(135deg,#3b4245,#23272a); border:2px solid #000; border-radius:4px; box-shadow:2px 2px 0 #000,0 0 0 2px #222 inset; }
.cmp-power-cards-panel .pc-card-header { display:flex; align-items:center; justify-content:flex-start; font-family:'Bangers',cursive; font-size:18px; letter-spacing:.75px; color:var(--pc-card-accent); margin:-4px -4px 2px; padding:4px 6px 6px; background:linear-gradient(135deg,#3b4245,#23272a); border:2px solid #000; border-radius:4px; box-shadow:2px 2px 0 #000,0 0 0 2px #222 inset; }
.cmp-power-cards-panel .power-card-deck-title { font-family:'Bangers',cursive; font-size:18px; letter-spacing:.75px; color:var(--pc-card-accent); text-shadow:-2px -2px 0 #000,2px -2px 0 #000,-2px 2px 0 #000,2px 2px 0 #000; padding-left:8px; margin-bottom:8px; }
.cmp-power-cards-panel .power-card-deck { 
  min-height:110px; 
  background:linear-gradient(135deg,#2c5234,#1a3d20); 
  border:3px solid #000; 
  border-radius:8px; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  box-shadow:inset 0 0 20px rgba(0,0,0,0.3); 
  position: relative;
  transform: translateZ(0) rotate(1.5deg);
  transition: box-shadow 0.3s ease;
  z-index: 3;
}

.cmp-power-cards-panel .deck-label {
  font-family: 'Bangers', cursive;
  font-size: 28px;
  letter-spacing: 1px;
  color: #fff;
  text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000;
  position: absolute;
  transform-origin: center center;
  white-space: nowrap;
  z-index: 1;
}

/* Standard/Desktop view - positioned with rotation */
@media (min-width: 769px) {
  .cmp-power-cards-panel .deck-label {
    top: 55%;
    left: 15px;
    transform: translateY(-50%) rotate(-90deg);
  }
}

/* Mobile view - no positioning, horizontal text */
@media (max-width: 768px) {
  .cmp-power-cards-panel .deck-label {
    transform: rotate(0deg);
  }
}

.cmp-power-cards-panel .power-card-deck::before {
  content: '';
  position: absolute;
  top: 1px;
  left: 2px;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg,#234429,#15301a);
  border: 3px solid #000;
  border-radius: 8px;
  z-index: -1;
  box-shadow: inset 0 0 15px rgba(0,0,0,0.2);
  transform: rotate(-2deg);
  transform-origin: center center;
}

.cmp-power-cards-panel .power-card-deck::after {
  content: '';
  position: absolute;
  top: -1px;
  left: -1px;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg,#1a3520,#0e2314);
  border: 3px solid #000;
  border-radius: 8px;
  z-index: -2;
  box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
  transform: rotate(2.5deg);
  transform-origin: center center;
}
.cmp-power-cards-panel .pc-card__name { text-shadow:-2px -2px 0 #000,2px -2px 0 #000,-2px 2px 0 #000,2px 2px 0 #000; line-height:1.3; flex:1; padding-top:2px; display:flex; align-items:center; }
.cmp-power-cards-panel .pc-card-name { text-shadow:-2px -2px 0 #000,2px -2px 0 #000,-2px 2px 0 #000,2px 2px 0 #000; line-height:1.3; flex:1; padding-top:2px; padding-left:8px; display:flex; align-items:center; }

.cmp-power-cards-panel .pc-card__body { font-size:13px; line-height:1.35; color:var(--pc-card-text); flex:1; }
.cmp-power-cards-panel .pc-card-description { font-size:13px; line-height:1.35; color:var(--pc-card-text); flex:1; }
.cmp-power-cards-panel .pc-card__body strong { color:#fff; }
.cmp-power-cards-panel .pc-card__footer { margin-top:auto; display:flex; justify-content:flex-start; }
.cmp-power-cards-panel .pc-card-footer { margin-top:auto; display:flex; justify-content:flex-end; }
.cmp-power-cards-panel .pc-card__footer .k-btn { font-family:'Bangers',cursive; letter-spacing:.5px; }

/* Flush button when rendered after deck */
.cmp-power-cards-panel .pc-flush-after-deck { margin-left: 8px; align-self: start; }

/* Mobile view - move cost to bottom left */
@media (max-width: 768px) {
  .cmp-power-cards-panel .pc-card-header {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .cmp-power-cards-panel .pc-card-cost {
    position: absolute;
    bottom: 8px;
    left: 8px;
    order: 2;
  }
  
  .cmp-power-cards-panel .pc-card-name {
    order: 1;
    width: 100%;
  }
}
.cmp-power-cards-panel .pc-hint { font-family:'Bangers',cursive; font-size:13px; letter-spacing:1px; color:#bbb; opacity:.85; text-align:right; padding-top:2px; }
.cmp-power-cards-panel .pc-card[data-rarity="rare"] { --pc-card-accent:var(--pc-rare); }
/* Deck stack indicator (after visible shop cards) */
.cmp-power-cards-panel .pc-card--deck { --pc-card-accent:#ffcf33; position:relative; opacity:1; }
.cmp-power-cards-panel .pc-card[data-rarity="epic"] { --pc-card-accent:var(--pc-epic); }
.cmp-power-cards-panel .pc-card[data-rarity="epic"] .pc-card__header { background:linear-gradient(135deg,#523056,#2a132d); }
.cmp-power-cards-panel .pc-card[data-rarity="rare"] .pc-card__header { background:linear-gradient(135deg,#204559,#11252f); }
.cmp-power-cards-panel .pc-card--deck .pc-card__header--deck { background:linear-gradient(135deg,#3f3f25,#232318); }
.cmp-power-cards-panel .pc-card--deck .pc-card__body--deck { display:none; }
.cmp-power-cards-panel .pc-card--deck.is-empty { filter:grayscale(.7) brightness(.7); }
.cmp-power-cards-panel .pc-card--deck.can-peek { cursor:pointer; box-shadow:5px 5px 0 #000,0 0 0 2px #222 inset,0 0 12px -2px rgba(255,220,60,.55); animation:peekPulse 2.4s ease-in-out infinite; }
.cmp-power-cards-panel .pc-card--deck.can-peek:hover { filter:brightness(1.15); }
.cmp-power-cards-panel .pc-card--deck.can-peek:active { transform:translateY(2px); }
.cmp-power-cards-panel .pc-card--deck .pc-card__header--deck { position:relative; }
.cmp-power-cards-panel .pc-card__count { position:absolute; bottom:8px; right:8px; font-size:11px; color:var(--pc-card-accent); background:rgba(0,0,0,0.6); padding:2px 6px; border-radius:8px; font-family:'Bangers',cursive; letter-spacing:0.5px; }
.cmp-power-cards-panel .pc-card--deck.can-peek .pc-card__header--deck:after { content:'PEEK'; position:absolute; top:4px; right:6px; background:#111; color:#ffd400; font-family:'Bangers',cursive; font-size:10px; padding:2px 6px 3px; border:2px solid #000; border-radius:12px; letter-spacing:1px; box-shadow:2px 2px 0 #000; animation:peekBadgeBlink 3s linear infinite; }
@keyframes peekPulse { 0%,100% { transform:translate(0,0); } 50% { transform:translate(-2px,-2px); } }
@keyframes peekBadgeBlink { 0%,70%,100% { opacity:1; } 80% { opacity:.3; } 90% { opacity:1; } }
/* Flip / denial animations */
.cmp-power-cards-panel .pc-card--deck.peek-flip { animation:peekFlip .9s ease; }
@keyframes peekFlip { 0% { transform:rotateY(0deg); } 40% { transform:rotateY(90deg); } 60% { transform:rotateY(100deg); } 100% { transform:rotateY(0deg); } }
.cmp-power-cards-panel .pc-card--deck.peek-denied { animation:peekDenied .6s ease; }
@keyframes peekDenied { 0% { transform:translateX(0); } 20% { transform:translateX(-6px); } 40% { transform:translateX(6px); } 60% { transform:translateX(-4px); } 80% { transform:translateX(4px); } 100% { transform:translateX(0); } }
.cmp-power-cards-panel .pc-card:hover { transform:translate(-4px,-4px); box-shadow:5px 5px 0 #000,0 0 0 2px #222 inset,0 10px 24px rgba(0,0,0,.5); }
.cmp-power-cards-panel .pc-card:active { transform:none; box-shadow:3px 3px 0 #000,0 0 0 2px #222 inset; }
.cmp-power-cards-panel .pc-card:hover .pc-card__header { filter:brightness(1.15); }
.cmp-power-cards-panel .pc-card:focus-within { outline:3px solid #fff; outline-offset:3px; }
.cmp-power-cards-panel .pc-shop-actions { display:flex; justify-content:flex-end; margin-top:2px; }
.cmp-power-cards-panel [data-refresh] { opacity:.85; }
.cmp-power-cards-panel [data-refresh]:disabled { cursor:not-allowed; opacity:.55; }

@media (max-width:900px){
  .cmp-power-cards-panel .pc-shop-cards { grid-template-columns:repeat(auto-fill,minmax(130px,1fr)); gap:12px; }
  .cmp-power-cards-panel .pc-card { padding:10px 12px 12px; }
  .cmp-power-cards-panel .pc-card__header { font-size:16px; }
  .cmp-power-cards-panel .pc-card__cost { font-size:14px; padding:3px 8px 5px; }
}

/* Compact layout for very narrow widths */
@media (max-width:640px) {
  .cmp-power-cards-panel .pc-shop-cards { grid-template-columns:repeat(auto-fill,minmax(120px,1fr)); }
  .cmp-power-cards-panel .pc-card { padding:8px 10px 10px; }
}

/* Entrance animation (can be triggered later when cards load) */
.cmp-power-cards-panel .pc-card[data-enter] { animation:pcCardIn .5s cubic-bezier(.25,.46,.45,.94); }
@keyframes pcCardIn { 0% { opacity:0; transform:translateY(14px) scale(.95); } 100% { opacity:1; transform:translateY(0) scale(1); } }