/* Minimal styling scaffolding for card detail & player cards modals */
.card-detail-modal, .player-cards-modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10500; font-family: var(--font-display, sans-serif); max-width: 92vw; max-height: 82vh; }
.card-detail-modal.hidden, .player-cards-modal.hidden { display: none; }
/* Backdrop */
.card-detail-modal .cd-backdrop { position:absolute; inset:0; background:rgba(0,0,0,0.55); -webkit-backdrop-filter:blur(2px); backdrop-filter:blur(2px); border-radius:12px; }

/* Frame updated to share chrome language with panels but more elevated */
.card-detail-frame, .pcm-frame { background:linear-gradient(180deg,#2e2540,#1d1729); padding: 1rem 1.1rem 1.25rem; min-width: 300px; max-width: 420px; color: #e9e3f7; border:3px solid #000; box-shadow:4px 4px 0 #000, 0 0 0 2px #4a3b63 inset; position: relative; border-radius:10px; overflow:hidden; }
.card-detail-frame:before { content:''; position:absolute; inset:0; background:radial-gradient(circle at 70% 15%,rgba(255,255,255,0.12),transparent 60%); pointer-events:none; }

.cd-head { display:flex; justify-content:space-between; align-items:flex-start; gap:12px; background:var(--adt-panel,#1d2126); border:1px solid var(--adt-border,#2f3740); padding:6px 8px 6px 10px; border-radius:8px; box-shadow:0 2px 6px -2px #000a inset; }
.cd-name-wrap { flex:1; }
.cd-head-tools { display:flex; flex-direction:column; align-items:flex-end; gap:6px; }
.cd-cost { text-align:right; font-weight:700; order:2; }
.cd-close { background:var(--adt-panel-alt,#23282f); color:var(--adt-text,#e5e9ef); border:1px solid var(--adt-border-strong,#3d4752); cursor:pointer; font-size:.75rem; font-weight:600; padding:4px 8px; border-radius:6px; line-height:1; box-shadow:0 1px 2px #0008; transition:background .15s, color .15s, border-color .15s; order:1; }
.cd-close:hover { background:var(--adt-accent,#4aa3ff); color:#fff; border-color:var(--adt-accent,#4aa3ff); }
.cd-close:active { transform:translateY(1px); }
.cost-badge { background: linear-gradient(135deg,#FFCE3A,#F9A602); padding:4px 10px; font-weight:700; border:2px solid #000; box-shadow:3px 3px 0 #000; display:inline-block; border-radius:6px; font-family:'Bangers',cursive; letter-spacing:1px; }
.cd-name { margin-top:.25rem; font-weight:700; font-size:1.35rem; font-family:'Bangers',cursive; letter-spacing:1px; color:#ffd400; text-shadow:-2px -2px 0 #000,2px -2px 0 #000,-2px 2px 0 #000,2px 2px 0 #000; flex:1; }

.cd-body { margin-top:.5rem; max-height:50vh; overflow-y:auto; padding-right:4px; }
.cd-body::-webkit-scrollbar { width:8px; }
.cd-body::-webkit-scrollbar-thumb { background:#4e3d62; border-radius:4px; }
.cd-body::-webkit-scrollbar-track { background:#241b30; }

.cd-section { margin: .85rem 0 1.1rem; }
.cd-section-title { margin:0 0 .5rem; font-size:.75rem; letter-spacing:1px; font-weight:700; font-family:system-ui,sans-serif; color:#ffefa5; opacity:.9; display:flex; align-items:center; gap:6px; }
.cd-text { line-height:1.3; font-size:.85rem; background:#f6eedb; color:#222; border:2px solid #000; padding:.65rem .7rem; border-radius:6px; box-shadow:2px 2px 0 #000; }
.cd-strategy, .cd-synergies, .cd-examples { font-size:.8rem; line-height:1.35; font-family:system-ui,sans-serif; }
.cd-strategy-text, .cd-combos-body, .cd-combos-empty { font-size:.8rem; line-height:1.35; font-family:system-ui,sans-serif; }
.cd-synergy { border-left:3px solid #6c5ce7; padding:.35rem .5rem; margin:.4rem 0; background:rgba(108,92,231,0.15); border-radius:4px; }
.cd-examples ul { margin:.4rem 0 0; padding-left:1.1rem; }
.cd-examples li { margin:.25rem 0; }

/* Action buttons aligned with unified button system but localized */
.cd-actions { display:flex; gap:.6rem; justify-content:flex-end; margin-top:.75rem; }
.cd-actions .k-btn { background:var(--adt-panel-alt,#23282f); border:1px solid var(--adt-border-strong,#3d4752); color:var(--adt-text,#e5e9ef); padding:6px 12px; font-size:.7rem; border-radius:6px; font-weight:600; letter-spacing:.5px; cursor:pointer; transition:background .15s,border-color .15s,color .15s; box-shadow:0 1px 2px #000c; }
.cd-actions .k-btn--primary { background:var(--adt-accent,#4aa3ff); border-color:var(--adt-accent,#4aa3ff); color:#fff; }
.cd-actions .k-btn--primary:hover { filter:brightness(1.1); }
.cd-actions .k-btn:disabled { opacity:.5; cursor:not-allowed; }

/* Combos section now adopts former cd-text visual language */
.cd-combos-section { line-height:1.3; font-size:.85rem; background:#f6eedb; color:#222; border:2px solid #000; padding:.65rem .7rem; border-radius:6px; box-shadow:2px 2px 0 #000; }
.cd-combos-section h3 { margin:0 0 .55rem; font-size:.75rem; letter-spacing:1px; font-weight:700; font-family:system-ui,sans-serif; color:#ffefa5; opacity:.9; }
.combo-suggestion { background:#fff7e6; border:1px solid #d4b46a; padding:.5rem .55rem; margin:.5rem 0; border-radius:4px; }
.combo-cards { font-size:.7rem; font-weight:700; display:flex; gap:.35rem; align-items:center; }
.combo-primary { color:#c05e00; }
.combo-secondary { color:#0f6800; }
.combo-connector { color:#222; }
.combo-description { font-size:.7rem; color:#333; margin-top:.25rem; line-height:1.25; font-style:italic; }
.cd-combos-header { margin-top:1rem; margin-bottom:.4rem; }
.cd-combos-header .cd-section-title { margin:0; }

/* Backdrop hover cue */
.card-detail-modal:not(.hidden) { animation: cdPop .28s ease; }
@keyframes cdPop { from { transform:translate(-50%, -46%) scale(.9); opacity:0; } to { transform:translate(-50%, -50%) scale(1); opacity:1; } }

@media (max-width:600px) {
  .card-detail-frame { max-width: 92vw; min-width: 0; }
  .cd-body { max-height: 56vh; }
}

.player-cards-modal .pcm-frame { background: #f8f3e5; min-width: 620px; min-height: 320px; max-width: 100%; }
.pcm-header { display: flex; justify-content: space-between; align-items: center; }
.pcm-header h2 { font-size: 1.4rem; }
.pcm-header .btn.circle { width: 36px; height: 36px; border-radius: 50%; }
.pcm-body { margin-top: 1rem; border: 2px dashed #aaa; min-height: 180px; padding: 1rem; display: flex; align-items: center; justify-content: center; }
.pcm-empty { font-style: italic; opacity: 0.65; font-weight: 700; }
.pcm-card-list { list-style: none; margin: 0; padding: 0; width: 100%; display: grid; grid-template-columns: repeat(auto-fill,minmax(180px,1fr)); gap: .75rem; }
.pcm-card { background: #fff; border: 2px solid #111; padding: .5rem; cursor: pointer; font-weight: 600; box-shadow: 3px 3px 0 #000; }
.pcm-card:hover { background: #ffe5a0; }

/* Removed obsolete alternative combo styling */

/* --- Card Detail Header / Close Button Reposition --- */
.card-detail-frame .cd-header { position: relative; padding-top:.35rem; padding-right:.5rem; display:flex; align-items:flex-end; gap:8px; }
.card-detail-frame .cd-title { margin:0; font-size:1.35rem; font-weight:800; letter-spacing:1px; flex:1; color:#ffefa5; text-shadow:0 2px 0 #000, 0 0 2px #000; }

/* Cost badge in top right corner */
.card-detail-frame .cd-cost-badge {
  position: absolute;
  top: -8px;
  right: 24px;
  min-width: 32px;
  height: 24px;
  border-radius: 12px;
  background: linear-gradient(135deg, #ffd700 0%, #ffb300 100%);
  color: #000;
  font-size: 13px;
  font-weight: bold;
  font-family: 'Bangers', cursive;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 8px;
  border: 2px solid #000;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.5);
  letter-spacing: 0.5px;
  z-index: 1;
}

/* Close button now floats slightly above and to right of header */
.card-detail-frame .cd-close { position:absolute; top:-12px; right:-12px; background:transparent; border:none; color:#ffefa5; font-size:1rem; padding:4px 6px; line-height:1; border-radius:0; display:inline-block; box-shadow:none; cursor:pointer; }
.card-detail-frame .cd-close:hover { color:#fff; background:transparent; }
.card-detail-frame .cd-close:focus { outline:2px solid #ffefa5; outline-offset:2px; }

/* Power card inside modal adjustments */
.card-detail-frame .cmp-power-cards-panel .pc-card { box-shadow:none; border:2px solid #000; padding:10px 12px 40px; background:linear-gradient(135deg,#303036,#202025); margin:0 0 .75rem; }
.card-detail-frame .cmp-power-cards-panel { margin-top: .85rem; }
.card-detail-frame .cmp-power-cards-panel .pc-card:hover { transform:none; box-shadow:none; }
.card-detail-frame .cmp-power-cards-panel .pc-card:after, .card-detail-frame .cmp-power-cards-panel .pc-card:before { display:none; }
.card-detail-frame .cmp-power-cards-panel .pc-card__header, .card-detail-frame .cmp-power-cards-panel .pc-card-header { margin:0 0 .5rem; box-shadow:none; background:linear-gradient(135deg,#3b4245,#23272a); }
.card-detail-frame .cmp-power-cards-panel .pc-card-cost--footer { display:none !important; }
.card-detail-frame .cmp-power-cards-panel .pc-card-cost--header { display:flex !important; position:static; margin:0 0 0 .5rem; }
.card-detail-frame .cmp-power-cards-panel .pc-card-name { padding-left:0; }
.card-detail-frame .cmp-power-cards-panel .pc-card__body, .card-detail-frame .cmp-power-cards-panel .pc-card-description { font-size:14px; line-height:1.4; }
.card-detail-frame .cmp-power-cards-panel .pc-card .pc-card-footer { display:none; }

